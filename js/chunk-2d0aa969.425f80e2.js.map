{"version":3,"sources":["webpack:///./src/components/pdf/proforma.vue?2df8","webpack:///src/components/pdf/proforma.vue","webpack:///./src/components/pdf/proforma.vue?7a06","webpack:///./src/components/pdf/proforma.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","speed","config","size","spinnersColor","_e","slot","on","$event","fetchPdf","_v","_s","$t","locale","firstDayOfWeek","inline","position","altInput","minDate","SixMonthsAgo","maxDate","today","model","value","datepicker","callback","$$v","$set","expression","accounts","documentPath","staticRenderFns","headers","Authorization","userData","user_id","component"],"mappings":"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","file":"js/chunk-2d0aa969.425f80e2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"view-pdf\"},[_c('div',{staticStyle:{\"position\":\"fixed\",\"top\":\"18%\",\"left\":\"50%\",\"z-index\":\"999\"}},[(_vm.loading)?_c('looping-rhombuses-spinner',{attrs:{\"animation-duration\":_vm.speed,\"rhombus-size\":_vm.config.size,\"color\":_vm.spinnersColor}}):_vm._e()],1),_c('div',{staticClass:\"flex xs12\"},[_c('va-card',[_c('template',{slot:\"actions\"},[(_vm.showCalandar)?_c('va-button',{attrs:{\"type\":\"submit\",\"id\":\"my-form\"},on:{\"click\":function($event){return _vm.fetchPdf($event)}}},[_vm._v(\" \"+_vm._s(_vm.$t('forms.controls.submit'))+\" \")]):_vm._e()],1),_c('form',{attrs:{\"id\":\"my-form\"}},[(_vm.showCalandar)?_c('div',{staticClass:\"row flex xs12\"},[_c('div',{staticClass:\"flex xs12 sm6\"},[_c('va-date-picker',{attrs:{\"label\":_vm.$t('forms.dateTimePicker.from'),\"config\":{\n\t\t\t                \tlocale: {firstDayOfWeek: 1},\n\t\t\t                \tinline: false,\n\t\t\t                \tposition:'below',\n\t\t\t                \taltInput:true,\n\t\t\t                \tminDate:_vm.SixMonthsAgo,\n\t\t\t                \tmaxDate:_vm.today\n\t\t\t                }},model:{value:(_vm.datepicker.from),callback:function ($$v) {_vm.$set(_vm.datepicker, \"from\", $$v)},expression:\"datepicker.from\"}})],1),_c('div',{staticClass:\"flex xs12 sm6\"},[_c('va-date-picker',{attrs:{\"label\":_vm.$t('forms.dateTimePicker.to'),\"config\":{\n\t\t\t                \tlocale: {firstDayOfWeek: 1},\n\t\t\t                \tinline: false,\n\t\t\t                \tposition:'below',\n\t\t\t                \taltInput:true,\n\t\t\t                \tminDate:_vm.SixMonthsAgo,\n\t\t\t                \tmaxDate:_vm.today\n\t\t\t                }},model:{value:(_vm.datepicker.to),callback:function ($$v) {_vm.$set(_vm.datepicker, \"to\", $$v)},expression:\"datepicker.to\"}})],1),_c('div',{staticClass:\"flex xs12 sm6\"},[(_vm.isfosa)?_c('va-select',{staticClass:\"mb-4\",attrs:{\"label\":\"Account\",\"textBy\":\"accname\",\"options\":_vm.accounts,\"key-by\":\"paybill_code\"},model:{value:(_vm.datepicker.acc_code),callback:function ($$v) {_vm.$set(_vm.datepicker, \"acc_code\", $$v)},expression:\"datepicker.acc_code\"}}):_vm._e()],1)]):_vm._e()]),_c('div',{staticClass:\"row flex xs12\"},[(_vm.doc)?_c('object',{staticStyle:{\"width\":\"100%\",\"height\":\"720px\",\"z-index\":\"998\"},attrs:{\"data\":_vm.documentPath,\"type\":\"application/pdf\"}},[_c('p',[_vm._v(\"It appears you don't have a PDF plugin for this browser. \"),_c('a',{attrs:{\"href\":_vm.documentPath,\"download\":\"document.pdf\"}},[_vm._v(\"Click here to download the file.\")])])]):_vm._e()])],2)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"view-pdf\">\r\n  \t<div style=\"position: fixed; top: 18%; left: 50%; z-index: 999;\">\r\n      <looping-rhombuses-spinner\r\n        v-if=\"loading\"\r\n        :animation-duration=\"speed\"\r\n        :rhombus-size=\"config.size\"\r\n        :color=\"spinnersColor\"\r\n      />\r\n    </div>\r\n    <div class=\"flex xs12\">\r\n\t    <va-card>\r\n\t    \t<template slot=\"actions\">           \r\n              <!-- <va-button icon=\"fa fa-calendar\" @click=\"SetFilter()\" v-if=\"!showCalandar\"> Set Filter</va-button>  -->\r\n              <va-button type=\"submit\" id=\"my-form\"  v-if=\"showCalandar\"  @click=\"fetchPdf($event)\">\r\n                  {{ $t('forms.controls.submit') }}\r\n              </va-button>               \r\n\t        </template> \r\n\t    \t<form id=\"my-form\"> \r\n\t    \t\t<div  class=\"row flex xs12\" v-if=\"showCalandar\">\r\n\t    \t\t\t<div class=\"flex xs12 sm6\">\r\n\t\t\t            <va-date-picker \r\n\t\t\t                :label=\"$t('forms.dateTimePicker.from')\"\r\n\t\t\t                :config=\"{\r\n\t\t\t                \tlocale: {firstDayOfWeek: 1},\r\n\t\t\t                \tinline: false,\r\n\t\t\t                \tposition:'below',\r\n\t\t\t                \taltInput:true,\r\n\t\t\t                \tminDate:SixMonthsAgo,\r\n\t\t\t                \tmaxDate:today\r\n\t\t\t                }\"\r\n\t\t\t                v-model=\"datepicker.from\"\r\n\t\t\t            />\r\n\t\t\t        </div>\r\n\t\t\t        <div class=\"flex xs12 sm6\">\r\n\t\t\t            <va-date-picker \r\n\t\t\t                :label=\"$t('forms.dateTimePicker.to')\"\r\n\t\t\t                :config=\"{\r\n\t\t\t                \tlocale: {firstDayOfWeek: 1},\r\n\t\t\t                \tinline: false,\r\n\t\t\t                \tposition:'below',\r\n\t\t\t                \taltInput:true,\r\n\t\t\t                \tminDate:SixMonthsAgo,\r\n\t\t\t                \tmaxDate:today\r\n\t\t\t                }\"\r\n\t\t\t                v-model=\"datepicker.to\"\r\n\t\t\t            />\r\n\t\t\t        </div>\r\n\t\t\t        <div class=\"flex xs12 sm6\">\r\n\t\t\t\t\t\t<va-select\r\n\t\t\t              v-if = \"isfosa\"\r\n\t\t\t              class=\"mb-4\"\r\n\t\t\t              label=\"Account\"\r\n\t\t\t              v-model=\"datepicker.acc_code\"\r\n\t\t\t              textBy=\"accname\"              \r\n\t\t\t              :options=\"accounts\"\r\n\t\t\t              key-by=\"paybill_code\"              \r\n\t\t\t            />\r\n\t\t\t        </div>\r\n\t            </div>\t           \r\n            </form>\r\n            <div  class=\"row flex xs12\">\r\n\t\t\t    <object :data=\"documentPath\" type=\"application/pdf\" style=\"width: 100%; height: 720px; z-index: 998;\" v-if=\"doc\">\r\n\t\t\t    \t<p>It appears you don't have a PDF plugin for this browser. \r\n\t\t\t\t\t\t<a :href = \"documentPath\" download=\"document.pdf\">Click here to download the file.</a>\r\n\t\t\t\t    </p>\t\r\n\t\t\t    </object>\r\n\t\t\t</div>\r\n\t\t</va-card>\r\n\t</div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nimport * as spinners from 'epic-spinners'\r\nexport default {\r\n\tcomponents: {\r\n\t\t...spinners      \r\n\t},\r\n\tname: 'view-pdf',\r\n\tdata () {\r\n\t    return {\r\n\t    \tshowCalandar:false,\r\n\t    \tloading: false,\r\n\t    \tisfosa:false,\r\n\t    \tdoc : false,\r\n\t    \tacc_cd: '',\r\n\t    \tinv_num: this.$route.params.inv_num,\r\n\t    \tacc_details:{},\r\n\t    \taccounts:JSON.parse(localStorage.getItem('UserFosas')),\r\n\t    \tuserData: JSON.parse(localStorage.getItem('LoggedUser')),\r\n\t    \ttoken: JSON.parse(localStorage.getItem('Token')),       \r\n\t        documentPath:\"\",\r\n\t        config: {\r\n\t\t        size: 38,\r\n\t\t        duration: 1500,\r\n\t\t    },\r\n\t\t    spinnersColor: this.$themes.primary,\r\n\t\t    currentDuration: 1500,\t    \r\n\t\t    sliderDuration: {\r\n\t\t        min: 1000,\r\n\t\t        max: 2000,\r\n\t\t    },\t\t   \r\n\t    };\r\n\t},\r\n\tcomputed: {\r\n\t    speed () {\r\n\t      return this.sliderDuration.min + this.sliderDuration.max - this.currentDuration\r\n\t    },\t    \r\n\t}, \r\n\tmethods : {\r\n\t\tgetSelected(acc_code){\r\n\t      console.log(acc_code)\r\n\t      return this.accounts.find(item => \r\n\t        item.paybill_code.toLowerCase() == acc_code.toLowerCase()\r\n\t      )\r\n\t    },\r\n\r\n\t    createProformainvoices () {\r\n      const self = this\r\n\r\n      let config = {\r\n        headers: {\r\n          Authorization: this.userData.user_id+' '+this.token\r\n        }\r\n      }\r\n\r\n      axios.post(`${self.$apiUrl}createproformainvoice`, this.userData.user_id, config)\r\n        .then(function (res) {\r\n          res = res.data\r\n          self.trans = res.slice()\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error)\r\n        })\r\n    },\r\n\t\tasync fetchPdf () {\r\n\t\t  this.loading = true\r\n\t\t  const self = this\r\n\r\n\t\t  let config = {\r\n        headers: {\r\n          Authorization: this.userData.user_id+' '+this.token\r\n        }\r\n      }\r\n\r\n\t\t  if (this.isfosa) {\r\n\t\t  \tthis.acc_details = await this.getSelected(this.datepicker.acc_code.paybill_code);\r\n\t\t  \tthis.acc_cd = this.acc_details.accname;\r\n\t\t  }\r\n\t\t  \r\n\t\t  const postData = {\r\n\t\t  \tuser : this.userData.user_id,\r\n\t\t  \tinv_num : this.inv_num\r\n\t\t  };   \r\n\t      axios.post(`${this.$apiUrl}proforma`, postData, config )\r\n\t      .then(function (res) {\t        \r\n\t        const resp =  res.data.pdf\r\n\t        self.documentPath = `data:application/pdf;base64,${resp}`\t       \r\n\t        self.doc = true\r\n\t        self.loading = false\r\n\t        self.showCalandar = false\t                      \r\n\t      })\r\n\t      .catch(function (error) {\r\n\t          console.log(error)\r\n\t      })\r\n\t    },\r\n\r\n\t    SetFilter(){\r\n\t    \tthis.showCalandar = true;\r\n\r\n\t    \tif(this.reportCode == \"FOSASTMNT\"){\r\n\t    \t\tthis.isfosa = true\r\n\t\t    }\r\n\t    }\r\n\t},\r\n\tcreated () {\r\n\t\tthis.today  = this.$options.filters.dateToYMD(new Date());\r\n\t\tthis.datepicker.to = this.today \r\n\t\tthis.SixMonthsAgo = this.$options.filters.createDate(0,-6,0)\r\n\t\tthis.SixMonthsAgo = this.$options.filters.dateToYMD(this.SixMonthsAgo)\r\n\t\tthis.datepicker.from = this.SixMonthsAgo\r\n\t\tlet thePath = {};\r\n\t\tthePath = this.$route.fullPath\r\n\t\t\r\n\t\tif(this.$route.params.loan_no){\r\n\t\t\tthis.loan_no = this.$route.params.loan_no\r\n\t\t\tthis.reportCode = thePath.split('/').slice(- 2).reverse().pop()\r\n\t\t}else{\r\n\t\t\tthis.reportCode = thePath.substring(thePath.lastIndexOf('/') + 1)\r\n\t\t}\r\n\t    \r\n\t   if(this.reportCode == \"FOSASTMNT\"){\r\n\t   \t\tthis.isfosa = true\r\n\t   \t\tthis.showCalandar = true;\r\n\t   }else{\r\n\t   \t\tthis.loading = true\r\n\t   \t\tthis.fetchPdf();\r\n\t   }\r\n\r\n\t\t\r\n\t},\t\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./proforma.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./proforma.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./proforma.vue?vue&type=template&id=74fcd672&\"\nimport script from \"./proforma.vue?vue&type=script&lang=js&\"\nexport * from \"./proforma.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}