(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-389b7c27"],{"00fd":function(t,a,e){var s=e("9e69"),o=Object.prototype,n=o.hasOwnProperty,i=o.toString,r=s?s.toStringTag:void 0;function c(t){var a=n.call(t,r),e=t[r];try{t[r]=void 0;var s=!0}catch(c){}var o=i.call(t);return s&&(a?t[r]=e:delete t[r]),o}t.exports=c},1310:function(t,a){function e(t){return null!=t&&"object"==typeof t}t.exports=e},1638:function(t,a,e){},"1a8c":function(t,a){function e(t){var a=typeof t;return null!=t&&("object"==a||"function"==a)}t.exports=e},"29f3":function(t,a){var e=Object.prototype,s=e.toString;function o(t){return s.call(t)}t.exports=o},"2b3e":function(t,a,e){var s=e("585a"),o="object"==typeof self&&self&&self.Object===Object&&self,n=s||o||Function("return this")();t.exports=n},3729:function(t,a,e){var s=e("9e69"),o=e("00fd"),n=e("29f3"),i="[object Null]",r="[object Undefined]",c=s?s.toStringTag:void 0;function l(t){return null==t?void 0===t?r:i:c&&c in Object(t)?o(t):n(t)}t.exports=l},"408c":function(t,a,e){var s=e("2b3e"),o=function(){return s.Date.now()};t.exports=o},"585a":function(t,a,e){(function(a){var e="object"==typeof a&&a&&a.Object===Object&&a;t.exports=e}).call(this,e("c8ba"))},"84fa":function(t,a,e){"use strict";var s=e("1638"),o=e.n(s);o.a},"9e69":function(t,a,e){var s=e("2b3e"),o=s.Symbol;t.exports=o},a69d:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"dashboard"},[e("dashboard-charts"),e("dashboard-info-block"),e("div",{staticClass:"row row-equal"},[e("div",{staticClass:"flex xl8 xs12"},[e("div",{staticClass:"xl12 xs12 sm12"},[e("dashboard-tabs")],1),e("br"),e("div",{staticClass:"xl12 xs12 sm12"},[e("dashboard-table")],1)]),e("div",{staticClass:"flex xl4 xs12"},[e("dashboard-kins")],1)])],1)},o=[],n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row row-equal"},[e("div",{staticClass:"flex xl8 xs12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"flex xs12 sm4"},[e("va-card",{staticClass:"mb-4",attrs:{color:"info"}},[e("p",{staticClass:"display-2 mb-0",staticStyle:{color:"white","font-size":"28px"}},[t._v(t._s(t.package_code))]),e("p",[t._v(t._s(t.$t("dashboard.info.deposit-contribution")))])])],1),e("div",{staticClass:"flex xs12 sm4"},[e("va-card",{staticClass:"mb-4",attrs:{color:"danger"}},[e("p",{staticClass:"display-2 mb-0",staticStyle:{color:"white","font-size":"28px"}},[t._v(t._s(t.balance))]),e("p",[t._v(t._s(t.$t("dashboard.info.share-capital")))])])],1),e("div",{staticClass:"flex xs12 sm4"},[e("va-card",{staticClass:"mb-4",attrs:{color:"warning"}},[e("p",{staticClass:"display-2 mb-0",staticStyle:{color:"white","font-size":"28px"}},[t._v(t._s(t._f("formatDate")(t.disconnection_date)))]),e("p",[t._v(t._s(t.$t("dashboard.info.outstanging-loans")))])])],1)])]),e("div",{staticClass:"flex xs12 md12 xl4"},[e("va-card",{attrs:{stripe:"info",title:t.$t("dashboard.info.latest-notification")}},[t._v(" "+t._s(t.latest_notfication.message)+" "),e("va-item-label",{attrs:{caption:""}},[t._v(" "+t._s(t._f("formatDate")(t.latest_notfication.date_sent))+" "+t._s(t.latest_notfication.time_sent)+" ")]),e("div",{staticClass:"row mt-3"},[e("va-button",{attrs:{color:"primary"},on:{click:t.viewall}},[t._v(" "+t._s(t.$t("dashboard.info.view-all"))+" ")])],1)],1)],1),e("va-modal",{attrs:{position:"top",size:"large",fullscreen:t.fullscreen,mobileFullscreen:t.fullscreenmobile,title:t.$t("notifications"),cancelClass:"none",okText:t.$t("modal.close"),cancelText:t.$t("modal.cancel")},model:{value:t.showModal,callback:function(a){t.showModal=a},expression:"showModal"}},[t._l(t.notifications,(function(a,s){return[e("va-item",[e("va-item-section",{attrs:{avatar:""}},[e("avatar",{attrs:{username:t.tostring(s+1),color:t.spinnersColor}})],1),e("va-item-section",[t._v(" "+t._s(a.message)+" "),e("va-item-label",{attrs:{caption:""}},[t._v(" "+t._s(t._f("formatDate")(a.date_sent))+" "+t._s(a.time_sent)+" ")])],1)],1)]}))],2)],1)},i=[],r=e("bc3a"),c=e.n(r),l=e("4a89"),u=e.n(l),d={components:{Avatar:u.a},name:"DashboardInfoBlock",data:function(){return{userData:JSON.parse(localStorage.getItem("LoggedUser")),token:JSON.parse(localStorage.getItem("Token")),latest_notfication:{},showModal:!1,fullscreen:!1,fullscreenmobile:!0,notifications:{},spinnersColor:"#537c3d",share:"",package_code:"",balance:"",disconnection_date:"",deposit:"",loan:"",fosa_bal:"",fosas:{},color_:"color_",color_0:this.$themes.primary,color_1:this.$themes.info,color_2:this.$themes.success,color_3:this.$themes.danger,color_4:this.$themes.warning}},methods:{tostring:function(t){return t.toString()},dynamicStyle:function(t){switch(t){case 0:return{color:this.color_0,fontSize:"20px"};case 1:return{color:this.color_1,fontSize:"20px"};case 2:return{color:this.color_2,fontSize:"20px"};case 3:return{color:this.color_3,fontSize:"20px"};case 4:return{color:this.color_4,fontSize:"20px"};default:return{color:this.color_1,fontSize:"20px"}}},GetCustomerPackage:function(){var t=this,a={headers:{Authorization:this.userData.user_id+" "+this.token}};c.a.post("".concat(t.$apiUrl,"GetCustomerPackage"),this.userData.user_id,a).then((function(a){a=a.data,t.package_code=a.package_code,t.balance=a.balance,t.disconnection_date=a.disconnection_date})).catch((function(t){console.log(t)}))},getShare:function(){var t=this,a={user:this.userData.user_id,acc_code:"SHA"},e={headers:{Authorization:this.userData.user_id+" "+this.token}};c.a.post("".concat(t.$apiUrl,"GetAnyAccountBalance"),a,e).then((function(a){a=a.data,t.share=a.acc_balance})).catch((function(t){console.log(t)}))},getLoans:function(){var t=this,a={headers:{Authorization:this.userData.user_id+" "+this.token}};c.a.post("".concat(t.$apiUrl,"GetTotalOutStandingLoans"),t.userData.user_id,a).then((function(a){a=a.data,t.loan=a.amount})).catch((function(t){console.log(t)}))},getFosaBal:function(){var t=this,a={headers:{Authorization:this.userData.user_id+" "+this.token}};c.a.post("".concat(t.$apiUrl,"GetAllFosaBalance"),t.userData.user_id,a).then((function(a){a=a.data,t.fosa_bal=a.amount})).catch((function(t){console.log(t)}))},getFosaAccs:function(){var t=this,a={headers:{Authorization:this.userData.user_id+" "+this.token}};c.a.post("".concat(t.$apiUrl,"GetFosaAccounts"),t.userData.user_id,a).then((function(a){t.fosas=a.data,localStorage.setItem("UserFosas",JSON.stringify(a.data))})).catch((function(t){console.log(t)}))},viewall:function(){this.showModal=!0},GetNotifications:function(){var t=this,a={headers:{Authorization:this.userData.user_id+" "+this.token}};c.a.post("".concat(t.$apiUrl,"GetNotifications"),t.userData.user_id,a).then((function(a){a=a.data,t.notifications=a,t.latest_notfication=a[0]})).catch((function(t){console.log(t)}))}},created:function(){this.GetCustomerPackage()}},f=d,m=(e("84fa"),e("2877")),h=Object(m["a"])(f,n,i,!1,null,null,null),b=h.exports,v=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("va-card",{attrs:{title:t.$t("dashboard.table.title")}},[e("div",{staticClass:"row align--center mb-1"},[e("div",{staticClass:"flex xs12 sm6"},[e("va-input",{staticClass:"ma-0",attrs:{value:t.term,placeholder:t.$t("tables.searchByName"),removable:""},on:{input:t.search}},[e("va-icon",{attrs:{slot:"prepend",name:"fa fa-search"},slot:"prepend"})],1)],1)]),e("va-data-table",{attrs:{fields:t.mode?t.detailedFields:t.fields,data:t.filteredData,loading:t.loading,hoverable:""},scopedSlots:t._u([{key:"posting_date",fn:function(a){return[t._v(" "+t._s(t._f("formatLongDate")(a.rowData.rcp_date))+" ")]}},{key:"description",fn:function(a){return[e("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(a.rowData.rcp_description)+" - "+t._s(a.rowData.rcp_ref))])]}},{key:"amount",fn:function(a){return[e("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(t._f("Currency")(a.rowData.rcp_amount)))])]}}])},[e("template",{slot:"icon"},[e("va-icon",{attrs:{name:"fa fa-list",color:"secondary"}})],1)],2)],1)},p=[],_=e("b047"),g=e.n(_),x={data:function(){return{trans:{},loading:!1,term:null,mode:0,userData:JSON.parse(localStorage.getItem("LoggedUser")),token:JSON.parse(localStorage.getItem("Token"))}},created:function(){this.getPayments()},computed:{fields:function(){return[{name:"__slot:icon",width:"30px",dataClass:"text-center"},{name:"__slot:posting_date",title:this.$t("tables.headings.date"),width:"30%",sortField:"posting_date"},{name:"__slot:description",title:this.$t("tables.headings.description"),width:"50%"},{name:"__slot:amount",title:this.$t("tables.headings.amount"),width:"20%"}]},filteredData:function(){var t=this;return!this.term||this.term.length<1?this.trans:(console.log(this.term),this.trans.filter((function(a){return a.description.toLowerCase().startsWith(t.term.toLowerCase())||a.amount.toLowerCase().startsWith(t.term.toLowerCase())})))}},methods:{getPayments:function(){var t=this,a={headers:{Authorization:this.userData.user_id+" "+this.token}};c.a.post("".concat(t.$apiUrl,"getpayments"),this.userData.user_id,a).then((function(a){a=a.data,t.trans=a.slice()})).catch((function(t){console.log(t)}))},search:g()((function(t){console.log(t),this.term=t}),400)}},k=x,D=Object(m["a"])(k,v,p,!1,null,null,null),y=D.exports,$=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("va-card",{attrs:{title:t.$t("dashboard.member-details")}},[e("va-tabs",{attrs:{grow:""},model:{value:t.tabsState,callback:function(a){t.tabsState=a},expression:"tabsState"}},[e("va-tab",[t._v(" "+t._s(t.$t("dashboard.tabs.billingAddress.bio-data"))+" ")]),e("va-tab",[t._v(" Package Details ")])],1),e("va-separator"),e(t.tabs[t.tabsState],{tag:"component",on:{submit:t.submit}})],1)},S=[],C=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"pt-2"},[e("div",{staticClass:"row"},[e("div",{staticClass:"flex xs12 md6"},[e("div",{staticClass:"title mb-3",style:t.computedStylesTitle},[t._v(" "+t._s(t.$t("dashboard.tabs.billingAddress.personalInfo"))+" ")]),e("va-input",{attrs:{label:t.$t("dashboard.tabs.billingAddress.firstName"),readonly:!0},model:{value:t.form.name,callback:function(a){t.$set(t.form,"name",a)},expression:"form.name"}}),e("va-input",{attrs:{label:t.$t("dashboard.tabs.billingAddress.email"),readonly:!0},model:{value:t.form.email,callback:function(a){t.$set(t.form,"email",a)},expression:"form.email"}}),e("va-input",{attrs:{label:t.$t("dashboard.tabs.billingAddress.id_no"),readonly:!0},model:{value:t.form.id_no,callback:function(a){t.$set(t.form,"id_no",a)},expression:"form.id_no"}}),e("va-input",{attrs:{label:t.$t("dashboard.tabs.billingAddress.phone_no"),readonly:!0},model:{value:t.form.phone_no,callback:function(a){t.$set(t.form,"phone_no",a)},expression:"form.phone_no"}})],1),e("div",{staticClass:"flex xs12 md6"},[e("div",{staticClass:"title mb-3",style:t.computedStylesTitle},[t._v(" "+t._s(t.$t("dashboard.tabs.billingAddress.saccoInfo"))+" ")]),e("va-input",{attrs:{label:t.$t("dashboard.tabs.billingAddress.member_no"),readonly:!0},model:{value:t.form.member_no,callback:function(a){t.$set(t.form,"member_no",a)},expression:"form.member_no"}})],1)])])},w=[],N={name:"billing-address-tab",data:function(){return{form:{name:"",email:"",id_no:"",phone_no:"",member_no:"",country:"",connection:!0}}},methods:{submit:function(){this.$emit("submit",this.form)}},computed:{computedStylesTitle:function(){return{color:this.$themes.dark}}},created:function(){this.userData=JSON.parse(localStorage.getItem("LoggedUser")),this.form.name=this.userData.full_name,this.form.email=this.userData.user_email,this.form.email=this.userData.user_email,this.form.id_no=this.userData.id_number,this.form.phone_no=this.userData.mobile_number,this.form.member_no=this.userData.member_number}},O=N,T=Object(m["a"])(O,C,w,!1,null,null,null),A=T.exports,I=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"pt-2"},[e("div",{staticClass:"title text-dark mb-1",style:{color:t.$themes.primary}},[t._v(" "+t._s(t.$t("dashboard.tabs.bankDetails.detailsFields"))+" ")]),e("div",{staticClass:"row"},[e("div",{staticClass:"flex xs12 md6"},[e("va-input",{attrs:{label:t.$t("dashboard.tabs.bankDetails.bankName"),readonly:!0},model:{value:t.form.bankName,callback:function(a){t.$set(t.form,"bankName",a)},expression:"form.bankName"}}),e("va-input",{attrs:{label:t.$t("dashboard.tabs.bankDetails.accountType"),readonly:!0},model:{value:t.form.accountName,callback:function(a){t.$set(t.form,"accountName",a)},expression:"form.accountName"}}),e("va-select",{attrs:{label:t.$t("dashboard.tabs.bankDetails.sortCode"),readonly:!1},model:{value:t.form.sortCode,callback:function(a){t.$set(t.form,"sortCode",a)},expression:"form.sortCode"}})],1),e("div",{staticClass:"flex xs12 md6"},[e("va-input",{attrs:{label:t.$t("dashboard.tabs.bankDetails.accountNumber"),readonly:!0},model:{value:t.form.accountNumber,callback:function(a){t.$set(t.form,"accountNumber",a)},expression:"form.accountNumber"}})],1)])])},j=[],z=e("a34a"),U=e.n(z);function F(t,a,e,s,o,n,i){try{var r=t[n](i),c=r.value}catch(l){return void e(l)}r.done?a(c):Promise.resolve(c).then(s,o)}function J(t){return function(){var a=this,e=arguments;return new Promise((function(s,o){var n=t.apply(a,e);function i(t){F(n,s,o,i,r,"next",t)}function r(t){F(n,s,o,i,r,"throw",t)}i(void 0)}))}}var L={name:"bank-details-tab",data:function(){return{form:{bankName:"",accountName:"",sortCode:"",accountNumber:"",notes:""},userData:{},token:JSON.parse(localStorage.getItem("Token")),fosaDetails:{}}},methods:{sendDetails:function(){this.showToast("Saved!")},GetFosaNumberFromIdno:function(){var t=this;return J(U.a.mark((function a(){var e,s,o;return U.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=t,s={headers:{Authorization:t.userData.user_id+" "+t.token}},o={user_id:t.userData.user_id,id_no:t.userData.id_number},a.next=5,c.a.post("".concat(e.$apiUrl,"getfosanumberfromidno"),o,s).then((function(t){localStorage.setItem("UserMianFosa",JSON.stringify(t.data.acc_details)),t=t.data.acc_details,e.form.accountName=t.accname,e.form.bankName=t.holder_name,e.form.accountNumber=t.accno,e.form.sortCode=t.paybill_code+e.userData.member_number})).catch((function(t){console.log(t)}));case 5:case"end":return a.stop()}}),a)})))()}},created:function(){this.userData=JSON.parse(localStorage.getItem("LoggedUser")),this.fosaDetails=JSON.parse(localStorage.getItem("UserMianFosa")),this.fosaDetails?(this.form.accountName=this.fosaDetails.accname,this.form.bankName=this.fosaDetails.holder_name,this.form.accountNumber=this.fosaDetails.accno,this.form.sortCode=this.fosaDetails.paybill_code+this.userData.member_number):this.GetFosaNumberFromIdno()}},G=L,B=Object(m["a"])(G,I,j,!1,null,null,null),E=B.exports,M={name:"DashboardTabs",components:{BillingAddressTab:A,BankDetailsTab:E},data:function(){return{tabsState:1,tabs:["BillingAddressTab","BankDetailsTab"]}},methods:{submit:function(t){this.$emit("submit",t)}}},P=M,W=Object(m["a"])(P,$,S,!1,null,null,null),q=W.exports,H=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("va-list",{staticClass:"mb-2",attrs:{fit:""}},[e("va-list-label",[t._v(" Invoices ")]),t._l(t.kins,(function(a,s){return s<=8?[e("va-item",[e("va-item-section",{attrs:{avatar:""}},[e("avatar",{attrs:{username:t._f("formatLongDate1")(a.inv_date),color:t.spinnersColor}})],1),e("va-item-section",[e("va-item-label",[t._v(" Invoice# "+t._s(a.inv_number)+" ")]),e("va-item-label",{attrs:{caption:""}},[t._v(" "+t._s(t._f("formatDate")(a.inv_date))+" ")]),e("va-item-label",[t._v(" "+t._s(t._f("Currency")(a.inv_amount))+" ")])],1),a.isbeneficiary?e("va-item-section",{attrs:{side:""}},[e("va-icon",{attrs:{name:"fa fa-check"}})],1):t._e()],1)]:t._e()}))],2)},K=[],Q={components:{Avatar:u.a},data:function(){return{trans:{},loading:!1,spinnersColor:this.$themes.primary,count:0,kins:{},term:null,mode:0,userData:JSON.parse(localStorage.getItem("LoggedUser")),token:JSON.parse(localStorage.getItem("Token"))}},created:function(){this.getInvoices()},methods:{getInvoices:function(){var t=this,a={headers:{Authorization:this.userData.user_id+" "+this.token}};c.a.post("".concat(t.$apiUrl,"getinvoices"),this.userData.user_id,a).then((function(a){a=a.data,t.kins=a})).catch((function(t){console.log(t)}))}}},R=Q,V=Object(m["a"])(R,H,K,!1,null,null,null),X=V.exports,Y={name:"dashboard",components:{DashboardInfoBlock:b,DashboardTable:y,DashboardTabs:q,DashboardKins:X},data:function(){return{userData:{}}},created:function(){this.userData=JSON.parse(localStorage.getItem("LoggedUser"))},methods:{}},Z=Y,tt=(e("c5cb"),Object(m["a"])(Z,s,o,!1,null,null,null));a["default"]=tt.exports},b047:function(t,a,e){var s=e("1a8c"),o=e("408c"),n=e("b4b0"),i="Expected a function",r=Math.max,c=Math.min;function l(t,a,e){var l,u,d,f,m,h,b=0,v=!1,p=!1,_=!0;if("function"!=typeof t)throw new TypeError(i);function g(a){var e=l,s=u;return l=u=void 0,b=a,f=t.apply(s,e),f}function x(t){return b=t,m=setTimeout(y,a),v?g(t):f}function k(t){var e=t-h,s=t-b,o=a-e;return p?c(o,d-s):o}function D(t){var e=t-h,s=t-b;return void 0===h||e>=a||e<0||p&&s>=d}function y(){var t=o();if(D(t))return $(t);m=setTimeout(y,k(t))}function $(t){return m=void 0,_&&l?g(t):(l=u=void 0,f)}function S(){void 0!==m&&clearTimeout(m),b=0,l=h=u=m=void 0}function C(){return void 0===m?f:$(o())}function w(){var t=o(),e=D(t);if(l=arguments,u=this,h=t,e){if(void 0===m)return x(h);if(p)return clearTimeout(m),m=setTimeout(y,a),g(h)}return void 0===m&&(m=setTimeout(y,a)),f}return a=n(a)||0,s(e)&&(v=!!e.leading,p="maxWait"in e,d=p?r(n(e.maxWait)||0,a):d,_="trailing"in e?!!e.trailing:_),w.cancel=S,w.flush=C,w}t.exports=l},b4b0:function(t,a,e){var s=e("1a8c"),o=e("ffd69"),n=NaN,i=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(t){if("number"==typeof t)return t;if(o(t))return n;if(s(t)){var a="function"==typeof t.valueOf?t.valueOf():t;t=s(a)?a+"":a}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var e=c.test(t);return e||l.test(t)?u(t.slice(2),e?2:8):r.test(t)?n:+t}t.exports=d},c5cb:function(t,a,e){"use strict";var s=e("fdad"),o=e.n(s);o.a},fdad:function(t,a,e){},ffd69:function(t,a,e){var s=e("3729"),o=e("1310"),n="[object Symbol]";function i(t){return"symbol"==typeof t||o(t)&&s(t)==n}t.exports=i}}]);
//# sourceMappingURL=chunk-389b7c27.252d9045.js.map