(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8aab1ef8"],{"00fd":function(t,e,n){var a=n("9e69"),o=Object.prototype,i=o.hasOwnProperty,r=o.toString,s=a?a.toStringTag:void 0;function l(t){var e=i.call(t,s),n=t[s];try{t[s]=void 0;var a=!0}catch(l){}var o=r.call(t);return a&&(e?t[s]=n:delete t[s]),o}t.exports=l},1310:function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},"1a8c":function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},"1e4d":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loan-calculator"},[n("div",{staticStyle:{position:"fixed",top:"50%",left:"50%","z-index":"999"}},[t.loading?n("atom-spinner",{attrs:{"animation-duration":t.speed,size:t.config.size,color:t.spinnersColor}}):t._e()],1),n("div",{staticClass:"row"},[n("div",{staticClass:"flex xs12 md12 xl12"},[n("va-card",{attrs:{title:t.$t("loans.calculator")}},[n("form",{on:{submit:function(e){return e.preventDefault(),t.onsubmit(e)}}},[n("va-select",{staticClass:"mb-4",attrs:{label:"Product",searchable:"",textBy:"product_name",loading:t.loadSelect,options:t.loans,"key-by":"product_id"},on:{input:t.setSelected},model:{value:t.product_id,callback:function(e){t.product_id=e},expression:"product_id"}}),n("va-input",{attrs:{label:t.$t("amount"),type:"number",error:!!t.amountErrors.length,"error-messages":t.amountErrors},model:{value:t.formdata.amount,callback:function(e){t.$set(t.formdata,"amount",e)},expression:"formdata.amount"}}),n("va-date-picker",{attrs:{label:t.$t("forms.dateTimePicker.start_date"),config:{locale:{firstDayOfWeek:1},inline:!1,position:"below",altInput:!0,minDate:t.today,maxDate:t.SixMonthsToCome}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),t.showEndDate?n("va-date-picker",{attrs:{label:t.$t("forms.dateTimePicker.end_date"),config:{locale:{firstDayOfWeek:1},inline:!1,position:"below",altInput:!0,minDate:t.today,maxDate:t.MaxendDate}},on:{input:t.setnewendDate},model:{value:t.end_date,callback:function(e){t.end_date=e},expression:"end_date"}}):t._e(),n("va-input",{attrs:{label:t.$t("period-months"),type:"number",readonly:!0},model:{value:this.newPeriod,callback:function(e){t.$set(this,"newPeriod",e)},expression:"this.newPeriod"}}),n("va-input",{attrs:{label:t.$t("interest %"),type:"number",readonly:!0},model:{value:this.newInterest,callback:function(e){t.$set(this,"newInterest",e)},expression:"this.newInterest"}}),n("div",{staticClass:"row mt-5"},[n("va-button",{attrs:{type:"submit"}},[t._v(" "+t._s(t.$t("forms.controls.submit"))+" ")])],1)],1)])],1),t.showtable?n("div",{staticClass:"flex xs12 md12 xl12"},[n("va-card",{attrs:{title:t.$t("loans.guaranteed_loans")}},[n("div",{staticClass:"row align--center mb-1"},[n("div",{staticClass:"flex xs12 sm6"},[n("va-input",{staticClass:"ma-0",attrs:{value:t.term,placeholder:t.$t("tables.searchByName"),removable:""},on:{input:t.search}},[n("va-icon",{attrs:{slot:"prepend",name:"fa fa-search"},slot:"prepend"})],1)],1)]),n("va-data-table",{attrs:{fields:t.mode?t.detailedFields:t.fields,data:t.filteredData,loading:t.loading,hoverable:"","no-pagination":""},scopedSlots:t._u([{key:"installment_no",fn:function(e){return[t._v(" "+t._s(e.rowData.installment_no)+" ")]}},{key:"date",fn:function(e){return[t._v(" "+t._s(t._f("formatDate")(e.rowData.date))+" ")]}},{key:"repayment_year",fn:function(e){return[t._v(" 20"+t._s(e.rowData.repayment_year)+" ")]}},{key:"payment_amount",fn:function(e){return[n("div",{staticStyle:{"text-align":"right"}},[t._v(t._s(t._f("Currency")(e.rowData.payment_amount)))])]}},{key:"interest",fn:function(e){return[n("div",{staticStyle:{"text-align":"right"}},[t._v(t._s(t._f("Currency")(e.rowData.interest)))])]}},{key:"principle",fn:function(e){return[n("div",{staticStyle:{"text-align":"right"}},[t._v(t._s(t._f("Currency")(e.rowData.principle)))])]}},{key:"loan_balance",fn:function(e){return[n("div",{staticStyle:{"text-align":"right"}},[t._v(t._s(t._f("Currency")(e.rowData.loan_balance)))])]}}],null,!1,1327359306)})],1)],1):t._e()])])},o=[],i=n("bc3a"),r=n.n(i),s=n("4583"),l=n("b047"),c=n.n(l);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m={components:d({},s),name:"loan-calculator",data:function(){return{userData:JSON.parse(localStorage.getItem("LoggedUser")),token:JSON.parse(localStorage.getItem("Token")),term:"",mode:0,showtable:!1,loans:[{product_id:"",product_name:"select an Option"}],schedule:{},loading:!1,loadSelect:!1,date:"",newPeriod:"",end_date:"",newInterest:"",formdata:{amount:""},SixMonthsToCome:"",showEndDate:"",MaxendDate:"",today:"",product_id:"",amountErrors:[],config:{size:80,duration:1500},spinnersColor:this.$themes.secondary,currentDuration:1500,sliderDuration:{min:1e3,max:2e3}}},computed:{fields:function(){return[{name:"__slot:installment_no",title:this.$t("tables.headings.installment_no"),sortField:"installment_no"},{name:"__slot:date",title:this.$t("tables.headings.date"),sortField:"date"},{name:"__slot:repayment_year",title:this.$t("tables.headings.repayment_year"),sortField:"repayment_year"},{name:"__slot:payment_amount",title:this.$t("tables.headings.payment_amount"),sortField:"payment_amount"},{name:"__slot:interest",title:this.$t("tables.headings.interest"),sortField:"interest"},{name:"__slot:principle",title:this.$t("tables.headings.principle"),sortField:"principle"},{name:"__slot:loan_balance",title:this.$t("tables.headings.loan_balance"),sortField:"loan_balance"}]},speed:function(){return this.sliderDuration.min+this.sliderDuration.max-this.currentDuration},formReady:function(){return!this.amountErrors.length},filteredData:function(){var t=this;return!this.term||this.term.length<1?this.schedule:this.schedule.filter((function(e){return e.date.toLowerCase().startsWith(t.term.toLowerCase())}))}},methods:{GetProduct:function(t){var e=this;return this.loans.filter((function(t){return t.product_id.toLowerCase()===e.id.toLowerCase()}))},onsubmit:function(){if(this.amountErrors=this.formdata.amount?[]:["Amount is required"],console.log(parseInt(this.formdata.amount)),console.log(parseInt(this.product_id.max_amount)),console.log(parseInt(this.product_id.min_amount)),this.amountErrors=parseInt(this.formdata.amount)>parseInt(this.product_id.max_amount)?["Amount exceeds the maximum loan limit of ".concat(this.product_id.max_amount)]:[],this.amountErrors=parseInt(this.formdata.amount)<parseInt(this.product_id.min_amount)?["Amount is below the minimum loan limit of ".concat(this.product_id.min_amount)]:[],this.formReady){var t={product:this.product_id,user_id:this.userData.user_id,amount:this.formdata.amount,start_date:this.date,period:this.newPeriod};this.loading=!0;var e=this,n={headers:{Authorization:this.userData.user_id+" "+this.token}};r.a.post("".concat(e.$apiUrl,"GetLoanSchedule"),t,n).then((function(t){e.loading=!1,e.showtable=!0,t=t.data.result,e.schedule=t.slice()})).catch((function(t){console.log(t)}))}},GetLoanProducts:function(){this.loadSelect=!0;var t=this,e={headers:{Authorization:this.userData.user_id+" "+this.token}};r.a.post("".concat(t.$apiUrl,"GetLoanProducts"),t.userData.user_id,e).then((function(e){t.loadSelect=!1,t.loading=!1,e=e.data,t.loans=e})).catch((function(t){console.log(t)}))},setSelected:function(t){this.newInterest=t.interest_rate,this.showEndDate=!0,this.MaxendDate=this.$options.filters.createDate(0,+t.repayment_period,0),this.MaxendDate=this.$options.filters.dateToYMD(this.MaxendDate),this.end_date=this.MaxendDate,this.newPeriod=t.repayment_period},setnewendDate:function(t){this.newPeriod=this.$options.filters.DateDiff(this.date,t)},search:c()((function(t){this.term=t}),400)},created:function(){this.GetLoanProducts(),this.today=this.$options.filters.dateToYMD(new Date),this.date=this.today,this.SixMonthsToCome=this.$options.filters.createDate(0,6,0),this.SixMonthsToCome=this.$options.filters.dateToYMD(this.SixMonthsToCome)}},p=m,h=n("2877"),_=Object(h["a"])(p,a,o,!1,null,null,null);e["default"]=_.exports},"29f3":function(t,e){var n=Object.prototype,a=n.toString;function o(t){return a.call(t)}t.exports=o},"2b3e":function(t,e,n){var a=n("585a"),o="object"==typeof self&&self&&self.Object===Object&&self,i=a||o||Function("return this")();t.exports=i},3729:function(t,e,n){var a=n("9e69"),o=n("00fd"),i=n("29f3"),r="[object Null]",s="[object Undefined]",l=a?a.toStringTag:void 0;function c(t){return null==t?void 0===t?s:r:l&&l in Object(t)?o(t):i(t)}t.exports=c},"408c":function(t,e,n){var a=n("2b3e"),o=function(){return a.Date.now()};t.exports=o},"585a":function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n("c8ba"))},"9e69":function(t,e,n){var a=n("2b3e"),o=a.Symbol;t.exports=o},b047:function(t,e,n){var a=n("1a8c"),o=n("408c"),i=n("b4b0"),r="Expected a function",s=Math.max,l=Math.min;function c(t,e,n){var c,u,d,f,m,p,h=0,_=!1,b=!1,v=!0;if("function"!=typeof t)throw new TypeError(r);function y(e){var n=c,a=u;return c=u=void 0,h=e,f=t.apply(a,n),f}function g(t){return h=t,m=setTimeout(D,e),_?y(t):f}function x(t){var n=t-p,a=t-h,o=e-n;return b?l(o,d-a):o}function w(t){var n=t-p,a=t-h;return void 0===p||n>=e||n<0||b&&a>=d}function D(){var t=o();if(w(t))return O(t);m=setTimeout(D,x(t))}function O(t){return m=void 0,v&&c?y(t):(c=u=void 0,f)}function $(){void 0!==m&&clearTimeout(m),h=0,c=p=u=m=void 0}function S(){return void 0===m?f:O(o())}function k(){var t=o(),n=w(t);if(c=arguments,u=this,p=t,n){if(void 0===m)return g(p);if(b)return clearTimeout(m),m=setTimeout(D,e),y(p)}return void 0===m&&(m=setTimeout(D,e)),f}return e=i(e)||0,a(n)&&(_=!!n.leading,b="maxWait"in n,d=b?s(i(n.maxWait)||0,e):d,v="trailing"in n?!!n.trailing:v),k.cancel=$,k.flush=S,k}t.exports=c},b4b0:function(t,e,n){var a=n("1a8c"),o=n("ffd69"),i=NaN,r=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;function d(t){if("number"==typeof t)return t;if(o(t))return i;if(a(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=a(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(r,"");var n=l.test(t);return n||c.test(t)?u(t.slice(2),n?2:8):s.test(t)?i:+t}t.exports=d},ffd69:function(t,e,n){var a=n("3729"),o=n("1310"),i="[object Symbol]";function r(t){return"symbol"==typeof t||o(t)&&a(t)==i}t.exports=r}}]);
//# sourceMappingURL=chunk-8aab1ef8.77249ba9.js.map