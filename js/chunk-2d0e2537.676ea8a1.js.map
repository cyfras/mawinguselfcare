{"version":3,"sources":["webpack:///./src/components/user/ChangePin.vue?3c8b","webpack:///src/components/user/ChangePin.vue","webpack:///./src/components/user/ChangePin.vue?d06f","webpack:///./src/components/user/ChangePin.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","speed","config","size","spinnersColor","_e","$t","on","$event","preventDefault","onsubmit","oldpasswordErrors","length","checklength","model","value","form","callback","$$v","$set","expression","passwordErrors","confirmPasswordErrors","_v","_s","staticRenderFns","components","name","data","loading","userData","JSON","parse","localStorage","getItem","oldpassword","password","confirmpassword","user","duration","$themes","secondary","currentDuration","sliderDuration","min","max","component"],"mappings":"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","file":"js/chunk-2d0e2537.676ea8a1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"change-pin\"},[_c('div',{staticStyle:{\"position\":\"fixed\",\"top\":\"50%\",\"left\":\"50%\",\"z-index\":\"999\"}},[(_vm.loading)?_c('atom-spinner',{attrs:{\"animation-duration\":_vm.speed,\"size\":_vm.config.size,\"color\":_vm.spinnersColor}}):_vm._e()],1),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"flex xs12 md6\"},[_c('va-card',{attrs:{\"title\":_vm.$t('user.change-password')}},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onsubmit($event)}}},[_c('va-input',{attrs:{\"type\":\"password\",\"label\":_vm.$t('auth.old-password'),\"error\":!!_vm.oldpasswordErrors.length,\"error-messages\":_vm.oldpasswordErrors},on:{\"input\":_vm.checklength},model:{value:(_vm.form.oldpassword),callback:function ($$v) {_vm.$set(_vm.form, \"oldpassword\", $$v)},expression:\"form.oldpassword\"}}),_c('va-input',{attrs:{\"type\":\"password\",\"label\":_vm.$t('auth.new-password'),\"error\":!!_vm.passwordErrors.length,\"error-messages\":_vm.passwordErrors},on:{\"input\":_vm.checklength},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}}),_c('va-input',{attrs:{\"type\":\"password\",\"label\":_vm.$t('auth.confirm-password'),\"error\":!!_vm.confirmPasswordErrors.length,\"error-messages\":_vm.confirmPasswordErrors},model:{value:(_vm.form.confirmpassword),callback:function ($$v) {_vm.$set(_vm.form, \"confirmpassword\", $$v)},expression:\"form.confirmpassword\"}}),_c('div',{staticClass:\"row mt-5\"},[_c('va-button',{attrs:{\"type\":\"submit\"}},[_vm._v(\" \"+_vm._s(_vm.$t('forms.controls.submit'))+\" \")])],1)],1)])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"change-pin\">\r\n\t    <div style=\"position: fixed; top: 50%; left: 50%; z-index: 999;\">\r\n\t      <atom-spinner\r\n\t        v-if=\"loading\"\r\n\t        :animation-duration=\"speed\"\r\n\t        :size=\"config.size\"\r\n\t        :color=\"spinnersColor\"\r\n\t      />\r\n\t    </div>\t\r\n\t\t<div class=\"row\">\r\n\t        <div class=\"flex xs12 md6\">\r\n\t      \t\t<va-card :title=\"$t('user.change-password')\">\r\n\t          \t\t<form @submit.prevent=\"onsubmit\">\r\n\t          \t\t\t<va-input\r\n\t\t\t\t\t        v-model=\"form.oldpassword\"\r\n\t\t\t\t\t        type=\"password\"\r\n\t\t\t\t\t        :label=\"$t('auth.old-password')\"\r\n\t\t\t\t\t        :error=\"!!oldpasswordErrors.length\"\r\n\t\t\t\t\t        :error-messages=\"oldpasswordErrors\"\r\n\t\t\t\t\t        @input = \"checklength\"\r\n\t\t\t\t\t    />\r\n\r\n\t          \t\t\t<va-input\r\n\t\t\t\t\t        v-model=\"form.password\"\r\n\t\t\t\t\t        type=\"password\"\r\n\t\t\t\t\t        :label=\"$t('auth.new-password')\"\r\n\t\t\t\t\t        :error=\"!!passwordErrors.length\"\r\n\t\t\t\t\t        :error-messages=\"passwordErrors\"\r\n\t\t\t\t\t        @input = \"checklength\"\r\n\t\t\t\t\t    />\r\n\r\n\t\t\t\t\t    <va-input\r\n\t\t\t\t\t        v-model=\"form.confirmpassword\"\r\n\t\t\t\t\t        type=\"password\"\r\n\t\t\t\t\t        :label=\"$t('auth.confirm-password')\"\r\n\t\t\t\t\t        :error=\"!!confirmPasswordErrors.length\"\r\n\t\t\t\t\t        :error-messages=\"confirmPasswordErrors\"\r\n\t\t\t\t\t    />\r\n\t\t\t\t\t    <div class=\"row mt-5\">            \r\n\t\t\t                <va-button type=\"submit\" >\r\n\t\t\t                  {{ $t('forms.controls.submit') }}\r\n\t\t\t                </va-button>                        \r\n\t\t\t            </div>\r\n\t          \t\t</form>\r\n\t          \t</va-card>\r\n\t        </div>\r\n\t    </div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport * as spinners from 'epic-spinners'\r\n\r\nexport default {\r\n  components: {\r\n    ...spinners      \r\n  },\r\n  name: 'signup',\r\n  data () {\r\n    return {\r\n      loading:false,\r\n      userData: JSON.parse(localStorage.getItem('LoggedUser')),\r\n      form:{\r\n        oldpassword: '',\r\n        password: '',\r\n        confirmpassword:'',        \r\n        user:'',\r\n      },\r\n      oldpasswordErrors: [],\r\n      passwordErrors: [],\r\n      confirmPasswordErrors :[],\r\n      config: {\r\n        size: 80,\r\n        duration: 1500,\r\n      },\r\n      spinnersColor: this.$themes.secondary,\r\n      currentDuration: 1500,\r\n      sliderDuration: {\r\n        min: 1000,\r\n        max: 2000,\r\n      },\r\n    }\r\n  },\r\n\tcomputed: {\r\n\t\tspeed () {\r\n\t\t  return this.sliderDuration.min + this.sliderDuration.max - this.currentDuration\r\n\t\t},\r\n\t\tformReady () {\r\n\t\t  return  !this.passwordErrors.length && !this.oldpasswordErrors.length  && !this.confirmPasswordErrors.length\r\n\t\t},\r\n\t},\r\n\tmethods: {\r\n\t\tchecklength(){\r\n\t\t  this.passwordErrors = this.form.password.length != 4 ? ['Enter four digit PIN'] : []\r\n\t\t  if(!this.passwordErrors.length){\r\n\t\t    this.passwordErrors = /^\\d+$/.test(this.form.password) ? [] : ['Pin should countain digits only']\r\n\t\t  }     \r\n\t\t},\r\n\r\n\t\tonsubmit () {\r\n\t      this.oldpasswordErrors = this.form.oldpassword ? [] : ['Old PIN is required']\r\n\t      this.passwordErrors = this.form.password ? [] : ['PIN is required']\r\n\t      this.confirmPasswordErrors = this.form.confirmpassword ? [] : ['Confirm PIN field is required']\r\n\t     \r\n\r\n\t      if (this.form.password != this.form.confirmpassword) {        \r\n\t        this.passwordErrors = ['PINs Do not Match']\r\n\t        this.confirmPasswordErrors =  ['PINs Do not Match']\r\n\t      }      \r\n\r\n\t      if (this.formReady) { \r\n\t        var self = this \r\n\t        self.loading = true;  \r\n\t        self.disableButton = true;   \r\n\t        axios.post(`${this.$apiUrl}UpdatePass`, this.form)\r\n\t          .then(function (res) {\r\n\t            self.loading = false;\t             \r\n\t            const response = res.data\r\n\r\n\t            if (response.success === 1) {\t             \r\n\t              self.showToast(`Successful! Your PIN Has Been Successfully Updated`, {\r\n\t                position: 'bottom-right',\r\n\t                icon: \"fa-check\",\r\n\t                duration: 10000,\r\n\t              })\r\n\t              self.$router.push({ name: 'dashboard' })  \r\n\t            }\r\n\r\n\t            if (response.success === 0) {\r\n\t              self.oldpasswordErrors = ['Incorrect PIN']\r\n\t              self.showToast(`Input the correct password`, {\r\n\t                position: 'bottom-right',\r\n\t                icon: \"fa-times\",\r\n\t                duration: 10000,\r\n\t              })\r\n\t            } \r\n\r\n\r\n\t          })\r\n\t          .catch(function (error) {\r\n\t            console.log(error)\r\n\t        })\r\n\t      }\r\n\t    }\r\n\t},\r\n\tcreated () {\t   \r\n\t    this.form.user  = this.userData.user_id\r\n\t}\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangePin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangePin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChangePin.vue?vue&type=template&id=510db65a&\"\nimport script from \"./ChangePin.vue?vue&type=script&lang=js&\"\nexport * from \"./ChangePin.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}